<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J07Array.html</title>

    <!-- 
        [배열] : Java와는 다르게 여러타입의 자료를 저장할 수 있는
                메모리 구조를 가진다.
     -->
    <script>
        
        var array = new Array(5);

        document.write("배열의 크기 : "+array.length); //배열의 크기 반환
        document.write("<h2>배열 초기화 전 출력</h2>");
        
        //초기화 하지 않았으므로 array[0]=undefined 이런식으로 출력된다!
        for(var i=0 ; i<array.length ; i++)
        {
            document.write("array["+ i +"]="+ array[i] + "<br/>");
        }
        //배열의 초기화 : JS에서는 변수 타입에 상관없이 저장할 수 있다.
        //              값을 저장하는 순간 자료형이 결정된다.
        array[0] = 100;
        array[1] = '자바스크립트';
        array[2] = new Date();
        array[3] = 3.14;
        array[4] = false;

        //선언방법(1) : 배열의 크기를 지정해서 선언한다.
        document.write("<h2>배열 초기화 후 출력</h2>");

        for(var i=0 ; i<array.length ; i++)
        {
            document.write(i + "번방의 자료형 : "+ typeof(array[i])
                    +" , array["+ i +"]="+ array[i] +"<br/>");
        }

         //선언방법(2) : 배열의 선언과 동시에 초기화를 진행한다!
        var init = new Array("홍길동", 20, "가산디지털", "010-1234-5678");
        document.write("<h2>선언과 동시에 초기화 후 출력</h2>");
        for(var i=0 ; i<array.length ; i++)
        {
            document.write(i + "번방의 자료형 : "+ typeof(init[i])
                    +" , init["+ i +"]="+ init[i] +"<br/>");
        }

        //선언방법(3) : 선언과 동시에 초기화를 진행하는 방법으로
        //              해당 방식은 JSONㅇ서 객체배열로 많이 사용된다!
        var initNoNew = ["KOSMO", 1, "Javascript", '메르디앙'];
        document.write("<h2>[] 이용하여 배열 선언 후 출력</h2>");
        for(var i=0 ; i<initNoNew.length ; i++)
        {
            document.write(i + "번방의 자료형 : "+ typeof(initNoNew[i])
                    +" , initNoNew["+ i +"]="+ initNoNew[i] +"<br/>");
        }

        //선언방법(4) : 웹프로그래밍에서 가장 많이 사용하는 방법
        //              배열의 크기를 지정하지 않은 상태로 선언하며,
        //              마지막 자료에 의해 크기가 결정된다.
        document.write("<h2>배열의 크기 미지정</h2>");
        var nosize = new Array();
        document.write("배열의크기 : "+ nosize.length + "<br/>");
        nosize[0] = 100;
        nosize[3] = 'Javascript';
        document.write("배열의크기 : "+ nosize.length + "<br/>");

        for(var i=0 ; i<nosize.length ; i++)
        {
            document.write(i + "번방의 자료형 : "+ typeof(nosize[i])
                        +", nosize["+ i +"]=" + nosize[i] + "<br/>");
        }
    </script>

</head>
<body>
    <h2>배열을 이용한 평균구하기</h2>
    <!-- table>tr*2>td*2 -->
    <table border="1">
        <tr>
            <td>학생수입력:</td>
            <td><input type="text" id="numOfStudent" size="5" /></td>
        </tr>
        <tr>
            <td colspan="2">
                <button type="button" 
                onclick="getAverage();">평균구하기</button>
            </td>
        </tr>
    </table>

    <body>
        <script type="text/Javascript">
            //해당 페이지 전체에서 사용할 수 있는 전역변수
            var studentArray = new Array();
            
            //무기명 함수(이름이 없는 함수) 형태로 선언함
            var getAverage = function()
            {
                var countOfStudent = document.getElementById("numOfStudent"). value;
                //alert("countOfStudent="+countOfStudent);
                //return;

                var total = 0;
                
                /*
                [prompt()] : 사용자로부터 입력을 받을 수 있는 대화창이다.
                            디폴트값이 필요한 경우 두번째 인자를 사용한다.
                            현재는 "50"으로 설정되어 있다!(디폴트값, 기본값)
                */
                for(var i=0 ; i<countOfStudent ; i++) //입력한 점수는 배열에 저장되고 누적합 계산
                {
                    studentArray[i] = parseInt(prompt(i+1 +"번째 학생점수", "50"));
                    total += studentArray[i];
                }

                var average = total / countOfStudent;
                
                var stringResult = "";
                
                for(var i=0 ; i<countOfStudent ; i++)
                {
                    stringResult += (i+1) + "번째 학생의 점수 : "+ studentArray[i] + "\r\n";
                }
                
                stringResult += "총점 : " + total + ", 평균 : "+ average;
                alert(stringResult)
            }
        </script>
    </body>

</body>
</html>